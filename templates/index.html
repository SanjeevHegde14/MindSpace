{% extends "base.html" %}
{% block title %}Home - MindSpace Analysis Platform{% endblock %}

{% block content %}
<div class="card main-card">
    <div class="card-body p-4 p-md-5 text-center">

        <!-- HERO SECTION -->
        <h1 class="display-3 fw-bold mb-3" style="color: var(--accent-color-1);">
            MindSpace
        </h1>
        <p class="lead mb-3" style="color: var(--text-muted); max-width: 650px; margin: 0 auto;">
            AI-powered social media language analysis for sentiment, risk indicators, and behavioural patterns.
        </p>

        <!-- SMALL BADGE STRIP -->
        <div class="d-flex justify-content-center flex-wrap gap-2 mt-3">
            <span class="badge rounded-pill" style="background-color: var(--background-mid); border: 1px solid var(--border-color); color: var(--text-color);">
                <i class="fas fa-brain me-1"></i> ML + NLP Powered
            </span>
            <span class="badge rounded-pill" style="background-color: var(--background-mid); border: 1px solid var(--border-color); color: var(--text-color);">
                <i class="fas fa-shield-alt me-1"></i> Non-Intrusive, Public Data Only
            </span>
            <span class="badge rounded-pill" style="background-color: var(--background-mid); border: 1px solid var(--border-color); color: var(--text-color);">
                <i class="fas fa-file-alt me-1"></i> PDF Reports & History
            </span>
        </div>

        <hr style="border-color: var(--border-color); opacity: 0.2; margin: 2.5rem auto; max-width: 380px;">

        <!-- CTA BUTTONS -->
        <div class="d-flex flex-column flex-md-row justify-content-center">
            <button type="button"
                class="btn btn-lg fw-bold px-5 py-3 mb-3 mb-md-0 me-md-3"
                style="background-color: var(--accent-color-2); color: white; box-shadow: 0 8px 20px rgba(32, 201, 151, 0.4);"
                data-bs-toggle="modal" data-bs-target="#platformModal">
                <i class="fas fa-search me-2"></i> Start New Analysis
            </button>

            <a href="#project-details"
               class="btn btn-lg fw-bold px-5 py-3"
               style="background-color: var(--background-mid); border: 1px solid var(--border-color); color: var(--text-color);">
                <i class="fas fa-info-circle me-2"></i> View Project Details
            </a>
        </div>

        {% if not current_user.is_authenticated %}
        <p class="text-muted small mt-4">
            <a href="{{ url_for('login') }}" style="color: var(--accent-color-1);">Log in</a> or
            <a href="{{ url_for('register') }}" style="color: var(--accent-color-1);">Register</a>
            to save and revisit your analysis history.
        </p>
        {% endif %}

        <!-- PROJECT DETAILS SECTION -->
        <div id="project-details" class="mt-5 pt-4 text-center">

            <!-- SECTION TITLE -->
            <h2 class="mb-2" style="color: var(--accent-color-2);">
                MindSpace at a Glance
            </h2>
            <p class="mb-4" style="color: var(--text-muted); max-width: 650px; margin: 0 auto;">
                A full-stack project that combines scraping, machine learning, sentiment analysis,
                and interactive visualizations inside a themed web experience.
            </p>

            <!-- FEATURE HIGHLIGHT CARDS (ONE BELOW ONE, BUT VISUAL) -->
            <div class="mx-auto" style="max-width: 900px;">
                <div class="row g-4">

                    <div class="col-md-4">
                        <div class="h-100 p-3 main-card" style="background: var(--background-mid); border: 1px solid var(--border-color);">
                            <div class="mb-2" style="font-size: 2rem;">
                                <i class="fab fa-reddit-alien me-2" style="color:#ff4500;"></i>
                                <i class="fab fa-instagram me-2" style="color:#e4405f;"></i>
                                <i class="fab fa-twitter me-2" style="color:#1da1f2;"></i>
                            </div>
                            <h5 style="color: var(--accent-color-1);">Multi-Platform Scraping</h5>
                            <p class="small mb-0" style="color: var(--text-muted);">
                                Live data from Reddit, Instagram, and Twitter/X using AsyncPRAW, Apify, and Playwright
                                to gather public posts for analysis.
                            </p>
                        </div>
                    </div>

                    <div class="col-md-4">
                        <div class="h-100 p-3 main-card" style="background: var(--background-mid); border: 1px solid var(--border-color);">
                            <div class="mb-2" style="font-size: 2rem;">
                                <i class="fas fa-brain me-2"></i>
                            </div>
                            <h5 style="color: var(--accent-color-1);">Dual AI Engine</h5>
                            <p class="small mb-0" style="color: var(--text-muted);">
                                Custom Na√Øve Bayes abnormality model (model_nb.pkl) plus NLTK VADER sentiment scores
                                for Neg/Pos/Neu profiling.
                            </p>
                        </div>
                    </div>

                    <div class="col-md-4">
                        <div class="h-100 p-3 main-card" style="background: var(--background-mid); border: 1px solid var(--border-color);">
                            <div class="mb-2" style="font-size: 2rem;">
                                <i class="fas fa-file-download me-2"></i>
                            </div>
                            <h5 style="color: var(--accent-color-1);">Reports & History</h5>
                            <p class="small mb-0" style="color: var(--text-muted);">
                                Interactive graphs on the results page and professionally formatted PDF reports
                                stored in your analysis history.
                            </p>
                        </div>
                    </div>

                </div>
            </div>

            <!-- NICE DIVIDER -->
            <hr style="border-color: var(--border-color); opacity: 0.15; margin: 3rem auto; max-width: 320px;">

            <!-- PIPELINE / TIMELINE SECTION (ONE BELOW ONE, CENTERED) -->
            <h3 class="mb-3" style="color: var(--accent-color-2);">
                End-to-End Pipeline
            </h3>
            <p class="mb-4" style="color: var(--text-muted); max-width: 650px; margin: 0 auto;">
                Every analysis you run follows the same clear pipeline:
            </p>

            <div class="mx-auto text-start" style="max-width: 700px;">
                <div class="d-flex mb-3">
                    <div class="me-3">
                        <span class="badge rounded-circle"
                              style="width:32px;height:32px;display:flex;align-items:center;justify-content:center;
                                     background-color: var(--accent-color-1); color: var(--text-color);">
                            1
                        </span>
                    </div>
                    <div>
                        <h5 style="color: var(--accent-color-1); margin-bottom: 0.2rem;">
                            Scrape Public Posts
                        </h5>
                        <p class="small mb-0" style="color: var(--text-muted);">
                            MindSpace fetches recent public comments / posts using platform-specific tools,
                            respecting the profile's visibility and rate limits.
                        </p>
                    </div>
                </div>

                <div class="d-flex mb-3">
                    <div class="me-3">
                        <span class="badge rounded-circle"
                              style="width:32px;height:32px;display:flex;align-items:center;justify-content:center;
                                     background-color: var(--accent-color-1); color: var(--text-color);">
                            2
                        </span>
                    </div>
                    <div>
                        <h5 style="color: var(--accent-color-1); margin-bottom: 0.2rem;">
                            Run ML & Sentiment Models
                        </h5>
                        <p class="small mb-0" style="color: var(--text-muted);">
                            Each post is evaluated for abnormal probability and Neg/Pos/Neu sentiment.
                            Averages and trends are computed for the full dataset.
                        </p>
                    </div>
                </div>

                <div class="d-flex mb-3">
                    <div class="me-3">
                        <span class="badge rounded-circle"
                              style="width:32px;height:32px;display:flex;align-items:center;justify-content:center;
                                     background-color: var(--accent-color-1); color: var(--text-color);">
                            3
                        </span>
                    </div>
                    <div>
                        <h5 style="color: var(--accent-color-1); margin-bottom: 0.2rem;">
                            Visualize & Save
                        </h5>
                        <p class="small mb-0" style="color: var(--text-muted);">
                            Results are shown with charts, verdict badges, and detailed post-level insights.
                            Logged-in users can download a full PDF and revisit past runs in History.
                        </p>
                    </div>
                </div>
            </div>

            <!-- FINAL NOTE -->
            <p class="small text-muted mt-4 mb-0" style="max-width: 650px; margin: 0 auto;">
                MindSpace is a technical demonstration tool. Its outputs are statistical indicators only and
                must <strong>not</strong> be treated as a medical or clinical diagnosis.
            </p>

        </div>
    </div>
</div>

<!-- Smooth Scroll -->
<script>
document.addEventListener('DOMContentLoaded', () => {
    const link = document.querySelector('a[href="#project-details"]');
    const section = document.getElementById('project-details');

    if (link && section) {
        link.addEventListener('click', function(e) {
            e.preventDefault();
            section.scrollIntoView({ behavior: "smooth" });
        });
    }
});
</script>
{% endblock %}
